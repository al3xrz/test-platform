FROM node:18

# устанавливаем рабочую папку внутри образа
WORKDIR /app 

#при отдельном копировании и поледующим RUN эшируются результаты и не 
#перекачиваются npm install если package.json не изменился 
COPY package.json .

#запускается однократно при сборке образа
RUN npm install


# копируем все из корняка в установленную рабочую папку 
COPY . . 


#порт наружу
EXPOSE 5000


#запускается каждый раз при запуске образа
CMD ["node", "index.js"]